![smart-gym-logo](https://github.com/rajakrishna/smart-gym/blob/master/public/smart-gym-logo.png)

# Smart Gym

Coordinating and organizing operations for a gym to make life easier for staff and members.

An app that serves as a center for membership management, class scheduling, ordering from the cafe and analytics for membership growth and usage.

# Technologies Used

<div style="display: flex; flex-wrap: wrap; gap: 8px;">
  <img style="height:100px;" src="https://cdn.brandfetch.io/id2alue-rx/theme/dark/idqNI71Hra.svg?c=1bxid64Mup7aczewSAYMX&t=1714556221292" alt="Next.js logo" />
  <img style="height:100px;" src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original-wordmark.svg" alt="React logo" />
  <img style="height:100px;" src="https://cdn.brandfetch.io/idKX_Hb7va/theme/dark/logo.svg?c=1bxid64Mup7aczewSAYMX&t=1748419318745" alt="TypeScript logo" />
  <img style="height:100px; width:160px" src="https://cdn.brandfetch.io/idsSceG8fK/theme/light/logo.svg?c=1bxid64Mup7aczewSAYMX&t=16610081495951" alt="Supabase logo" />
  <img style="height:100px; width:160px" src="https://cdn.brandfetch.io/idMNEQh7-0/theme/light/logo.svg?c=1bxid64Mup7aczewSAYMX&t=1687779045485" alt="Tailwind CSS logo" />
  <img style="height:100px; width:160px" src="https://lucide.dev/library-logos/shadcn-ui-light.svg" alt="Shadcn logo" />
  <img style="height:100px;width:160px" src="https://cdn.brandfetch.io/idxAg10C0L/theme/dark/logo.svg?c=1bxid64Mup7aczewSAYMX&t=1746435914582" alt="Stripe logo" />
  <img style="height:100px" src="https://upload.wikimedia.org/wikipedia/commons/3/33/Figma-logo.svg" alt="Figma logo" />
</div>

## Docs for this project

- [Next.js](https://nextjs.org/docs)
- [React](https://react.dev/)
- [TypeScript](https://www.typescriptlang.org/docs/)
- [Supabase](https://supabase.com/docs)
- [Tailwind CSS](https://tailwindcss.com/docs)
- [shadcn/ui](https://ui.shadcn.com/docs)
- [Stripe](https://stripe.com/docs)

## Team Contributors To The Project

<table style="width: 100%; display: flex; flex-wrap: wrap; justify-content: center;">
  <tr style="display: flex; flex-wrap: wrap; justify-content: center; width: 100%;">
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px; border-radius: 50%;">
      <a href="www.linkedin.com/in/joeaguado">
        <img src="https://github.com/user-attachments/assets/ed822669-8b90-4d8e-bd15-82513aaffe3e" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%; "alt="Joe Aguado Profile Picture" /><br />
        <sub><b>Joe Aguado</b></sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/gojoego/">
        <img src="https://media.licdn.com/dms/image/v2/C5603AQGAtMQlfyBafw/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1525922045693?e=1755734400&v=beta&t=CtFk8lDe7GgoOU3NSKkp_GsZGqcD9J3nsRiacSldjb4" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Joe Gallego Profile Picture" /><br />
        <sub><b>Joe Gallego</b></sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://linkedin.com/in/noahwhlim">
        <img src="https://avatars.githubusercontent.com/u/91938285?v=4" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Noah Lim Profile Picture" /><br />
        <sub><b>Noah Lim</b></sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/devmonika/">
        <img src="https://avatars.githubusercontent.com/u/85965486?v=4" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Monika Profile Picture" /><br />
        <sub><b>Monika Garg</b></sub>
      </a>
    </td>
    </tr>
   <tr style="display: flex; flex-wrap: wrap; justify-content: center; width: 100%;">
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/dannyrivasdev/">
        <img src="https://github.com/user-attachments/assets/53cebcf7-2e3e-46f3-9346-94ec5a27ad19" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" 
        alt="Danny Rivas Profile Picture" /><br />
        <sub><b>Danny Rivas</b></sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/developerdiego/">
        <img src="https://media.licdn.com/dms/image/v2/D5635AQEH7-tkmh8rgw/profile-framedphoto-shrink_200_200/B56ZYiPX.lHoAY-/0/1744331178327?e=1753473600&v=beta&t=R18fxZsGd_s84v-PEXi0cmmZfHT4jjmqBBGMsrW6Gj8" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Diego Espino Profile Picture" /><br />
        <sub><b>Diego Espino</b></sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/sunnith-ch/">
        <img src="https://media.licdn.com/dms/image/v2/D4E35AQFNoT9iC9_h1A/profile-framedphoto-shrink_400_400/B4EZfSaDO2HwAc-/0/1751581734372?e=1752937200&v=beta&t=4YOJlnlGTsUdbsUa0NqXLf6h5HlfmBE9uKYJRGckBSM" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Sunnith Profile Picture" /><br />
        <sub><b>Sunnith CH</b></sub>
      </a>
    </td>
    </tr>  
   <tr style="display: flex; flex-wrap: wrap; justify-content: center; width: 100%;">
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/rajakrishna/">
        <img src="https://media.licdn.com/dms/image/v2/D5603AQFDLs3Zm3m01A/profile-displayphoto-shrink_200_200/B56Zd56YWwGoAc-/0/1750097037071?e=1755734400&v=beta&t=BMpj0zVVOMehE_fiukehMx2GkxnrZvAtZ9UsDSjUPDo" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Raja Krishna Profile Picture" /><br />
        <sub><b>Raja Krishna</b></sub>
        <br /><sub>(Tech Lead)</sub>
      </a>
    </td>
    <td align="center" width="200" style="flex: 1; max-width: 200px; padding: 10px;">
      <a href="https://www.linkedin.com/in/belle-duran-127760204/">
        <img src="https://media.licdn.com/dms/image/v2/C4E03AQG61KH5tTPj3A/profile-displayphoto-shrink_200_200/profile-displayphoto-shrink_200_200/0/1617765154387?e=1755734400&v=beta&t=OfW7wIAZ5cQ9h1LIupO-L7sxVB25wqBw8nJYGaKgCs4" style="width: 100%; max-width: 150px; height: auto; border-radius: 50%;" alt="Belle Duran Profile Picture" /><br />
        <sub><b>Belle Duran</b></sub>
        <br /><sub>(Tech Lead)</sub>
      </a>
    </td>
  </tr>
</table>

# 💪 Smart Gym Documentation

## 📑 Table of Contents

1. [📌 Introduction](#-introduction)
2. [🏗️ Architecture Overview](#-architecture-overview)
3. [🛠️ Technology Stack](#-technology-stack)
4. [💾 Database Schema](#-database-schema)
5. [🔐 Authentication Flow](#-authentication-flow)
6. [✨ Key Features](#-key-features)
7. [🔌 API Details](#-api-details)
8. [🧩 Component Structure](#-component-structure)
9. [🔄 Data Flow](#-data-flow)
10. [🚀 Deployment](#-deployment)
11. [📝 Commitlint Configuration](#-commitlint-configuration)
12. [💻 Jira/Git Workflow](#-jiragit-workflow)
13. [🎨 Design System](#-design-system)
14. [📝 Code Organization & Best Practices](#-code-organization--best-practices)

---

## 📌 Introduction

[Project Name] is a [brief description of what your application does]. The application provides a modern solution to [describe the main problem you're solving], offering features such as [list 3-5 key features].

---

## 🏗️ Architecture Overview

The application follows a [describe your architecture pattern] using [main framework/technology]. The architecture can be broken down into the following key components:

| Component                | Description                           |
| ------------------------ | ------------------------------------- |
| **Frontend**             | [Frontend description and technology] |
| **Backend API**          | [Backend description and technology]  |
| **Database**             | [Database description and technology] |
| **Authentication**       | [Auth service description]            |
| **[Additional Service]** | [Additional service description]      |

The application follows a [architectural pattern] where [describe the flow between components].

---

## 🛠️ Technology Stack

### 🖥️ Frontend

| Technology     | Version/Description |
| -------------- | ------------------- |
| **Framework**  | Next.js 15          |
| **UI Library** | shadcn/ui           |
| **Icons**      | Lucide, Radix Icons |
| **Styling**    | Tailwind CSS v4     |

### ⚙️ Backend

| Technology             | Version/Description |
| ---------------------- | ------------------- |
| **API Framework**      | Next.js API Routes  |
| **Database ORM**       | Supabase            |
| **Database**           | Supabase            |
| **Authentication**     | Supabase Auth       |
| **Payment Processing** | Stripe              |

### 🧰 Development Tools

| Tool           | Purpose                                   |
| -------------- | ----------------------------------------- |
| **TypeScript** | Type checking and static analysis         |
| **Prettier**   | Code formatting and style consistency     |
| **ESLint**     | Code linting and enforcing best practices |
| **Husky**      | Git hooks for pre-commit checks           |
| **Commitlint** | Enforces commit message conventions       |

---

## 💾 Database Schema

The application uses a PostgreSQL(Supabase) database. Below is the ERD (Entity Relationship Diagram) illustrating the key models and their relationships:

![ERD Image](https://github.com/rajakrishna/smart-gym/blob/master/public/erd-image.png)

---

## 🔐 Authentication Flow

The application uses [Authentication Service] for authentication. The authentication flow works as follows:

| Step | Description                |
| ---- | -------------------------- |
| 1    | [First step of auth flow]  |
| 2    | [Second step of auth flow] |
| 3    | [Third step of auth flow]  |
| 4    | [Fourth step of auth flow] |

---

## ✨ Key Features

### 📄 1. [Feature Name]

- [Feature capability 1]
- [Feature capability 2]
- [Feature capability 3]

### 🚪 2. [Feature Name]

- [Feature capability 1]
- [Feature capability 2]
- [Feature capability 3]

### 📦 3. [Feature Name]

- [Feature capability 1]
- [Feature capability 2]
- [Feature capability 3]

### 🚗 4. [Feature Name]

- [Feature capability 1]
- [Feature capability 2]
- [Feature capability 3]

### 🔔 5. [Feature Name]

- [Feature capability 1]
- [Feature capability 2]
- [Feature capability 3]

<!-- Add more features as needed -->

---

## 🔌 API Details

The application uses Next.js API Routes organized by feature:

### API Overview

<!-- Example:
| `/api/[notifications]` | Manage  notifications |
-->

| API Endpoint                   | Purpose                          |
| ------------------------------ | -------------------------------- |
| `/api/classes/getAll`          | get classses                     |
| `/api/classes/create`          | creates class                    |
| `/api/classes/update`          | updates class                    |
| `/api/classes/delete`          | deletes class                    |
| `/api/classes/getById`         | gets classes by class ID         |
| `/api/coaches/getAll`          | get all coaches                  |
| `/api/messages/create`         | creates msg associated w user ID |
| `/api/messages/delete`         | deletes msg associated w msg ID  |
| `/api/messages/getAll`         | get all msgs                     |
| `/api/messages/getByMessageId` | gets msg by msg ID               |
| `/api/messages/getByUserId`    | gets msgs by user ID             |
| `/api/users/[userId]`          | gets user by user ID             |
| `/api/users/create`            | creates user                     |
| `/api/users/getAll`            | get all users                    |
| `/api/users/update`            | updates user                     |
| `/api/[endpoint5]`             | [Purpose description]            |

---

### API Endpoints

<!-- Example:
- API Endpoint: `/api/notifications	`
- Purpose: Manage notifications
- Triggered by: Admin user
- Steps:
  - Admin user logs in
  - Admin user navigates to notifications page
  - Admin user clicks on "Manage Notifications" button
  - Admin user is redirected to notifications page
-->

- API Endpoint: `/api/[endpoint1]`
- Purpose: [Purpose description]
- Triggered by: [Triggered by description]
- Steps:
  - [Step 1]
  - [Step 2]
  - [Step 3]
  - [Step 4]

## 🧩 Component Structure

The application uses a component-based architecture with the following key components:

### 📏 Layout Components

- `Admin Sidebar`: Sidebar for the admin dashboard with links to the different pages
- `Pre Auth Navbar`: Navbar for the pre-auth landing page with links to different spots on the landing page and a login button
- `Post Auth Navbar`: Navbar for the post-auth dashboard with links to the user's barcode, profile, and notification.
- `Mobile Bottom Navbar`: Bottom navbar for the mobile app with links to the user's barcode, profile, and notification.

### 📄 Page Components

- `[Component]`: [Description]
- `Admin Members Page`: Page for the admin to view all members and their information + sign up new members
- `Admin View Member Page`: Page for the admin to view a specific member and their information
- `Admin Messages Page`: Page for the admin to view all messages from the users + initiate a new message to the user
- `Admin View Message Page`: Page for the admin to view a specific message and its details
- `Admin Cafe Page`: Page for the admin to view all products in the cafe + add new products + view all transactions

### ⚙️ Feature Components

- `Send Admin Message Modal`: Modal for the admin to send a message to a user
- `Update Cafe Product Modal`: Modal for the admin to update a product in the cafe
- `Create Cafe Product Modal`: Modal for the admin to create a new product in the cafe

### 🎨 UI Components

- `[Component]`: [Description]
- `[Component]`: [Description]

---

## 🔄 Data Flow

### 👤 [Key Flow 1] (e.g., User Registration)

| Step | Description   |
| ---- | ------------- |
| 1    | [First step]  |
| 2    | [Second step] |
| 3    | [Third step]  |
| 4    | [Fourth step] |
| 5    | [Fifth step]  |

### 🚗 [Key Flow 2]

| Step | Description   |
| ---- | ------------- |
| 1    | [First step]  |
| 2    | [Second step] |
| 3    | [Third step]  |
| 4    | [Fourth step] |

<!-- Add more data flows as needed -->

---

## 🚀 Deployment

The application is designed to be deployed using Vercel and Supabase:

| Component                 | Deployment Solution        |
| ------------------------- | -------------------------- |
| **Frontend and API**      | Vercel                     |
| **Database**              | Supabase (PostgreSQL)      |
| **Authentication**        | Supabase Auth              |
| **File Storage**          | Supabase Storage           |
| **Environment Variables** | Vercel Environment Manager |

## 📝 Commitlint Configuration

This project uses [commitlint](https://commitlint.js.org/) to enforce consistent commit message conventions. The configuration extends the conventional commit standards with custom rules.

### Configuration File

The commitlint configuration is defined in `.commitlintrc.json`:

```json
{
  "extends": ["@commitlint/config-conventional"],
  "rules": {
    "type-enum": [2, "always", ["feat", "fix", "chore", "docs", "style", "refactor", "revert", "build", "ci"]],
    "header-max-length": [2, "always", 120],
    "body-max-line-length": [2, "always", 200],
    "footer-max-line-length": [2, "always", 200],
    "subject-case": [0, "never", "sentence-case"]
  }
}
```

### Allowed Commit Types

| Type       | Description                                                   |
| ---------- | ------------------------------------------------------------- |
| `feat`     | New feature                                                   |
| `fix`      | Bug fix                                                       |
| `chore`    | Changes to build process or auxiliary tools                   |
| `docs`     | Documentation only changes                                    |
| `style`    | Changes that do not affect the meaning of code                |
| `refactor` | A code change that neither fixes a bug nor adds a feature     |
| `revert`   | Reverts a previous commit                                     |
| `build`    | Changes that affect the build system or external dependencies |
| `ci`       | Changes to CI configuration files and scripts                 |

### Example Commit Messages

```bash
feat: add user authentication system (PROJ-123)
fix: resolve navigation menu display issue (PROJ-456)
docs: update API documentation (PROJ-789)
chore: update dependencies to latest versions (PROJ-101)
style: format code according to prettier rules (PROJ-202)
refactor: simplify user profile component (PROJ-303)
```

## 💻 Jira/Git Workflow

### Choose a Jira ticket

- In Jira, find a ticket to work on.
- Assign it to yourself and mark it as 'In Progress'.

### Create a branch from JIRA

- Use the JIRA interface to create a branch directly from the ticket. This will generate a branch name based on the ticket number and description.
- Follow the prompts to select the repository and branch source (usually `master`).
- Once the branch is created, copy the branch name.

### Local work

- Fetch the branch you created in Jira from the remote repository:

  ```bash
  git fetch origin [BRANCH-NAME]
  ```

- Check out the new branch:

  ```bash
  git checkout -b [BRANCH-NAME] origin/[BRANCH-NAME]
  ```

- Make your changes and then stage them. All commit messages must follow the project commitlint rules (see [Commitlint Configuration](#-commitlint-configuration) section above):
  - Start with one of the allowed commit types: `feat`, `fix`, `chore`, `docs`, `style`, `refactor`, `revert`, `build` or `ci`
  - Keep the header under 120 characters
  - The Jira ticket number should be at the end in parentheses

  Example commit commands:

  ```bash
  git commit -m "feat: add new button to dashboard (PROJ-123)"
  ```

  ```bash
  git commit -m "fix: resolve user fetch bug (PROJ-123)"
  ```

  ```bash
  git commit -m "chore: update dependencies (PROJ-123)"
  ```

### Push to GitHub and make a pull request

- Sync the remote repo with your local repo and your new branch:

  ```bash
  git push origin [TICKET-NUMBER]
  ```

- Under [GITHUB_REPO_URL/branches] you should find the branch you just pushed. Click on it.
- Click "Compare & pull request".
- Make sure base is set to master at the top.
- Adjust the title as needed and add a description.
- Add reviewers (2) by clicking the gear.
- Click "Create pull request".
- Once the PR is approved, the assignee (you) should complete the pull request by merging to master and delete the branch.
- Go back to Jira and change ticket status to done.

## 🎨 Design System

In order to use the in-line color schema within any front-end component, under `className`, use one of the following color configuration names:

- `primary-[color]`
- `secondary-[color]`
- `accent-[color]`
- `neutral-[color]`
- `[additional-color-names]`

These can be applied to background colors, text colors and border colors using [CSS framework]'s utility classes.

### Example Usage

#### Background Color

```jsx
<div className='bg-primary-[color] p-4'>This div has a primary [color] background.</div>
```

## 📝 Code Organization & Best Practices

| Directory / File      | Description                                                               |
| --------------------- | ------------------------------------------------------------------------- |
| `app/`                | Main application directory containing pages, API routes and entry points. |
| `app/api/`            | API route handlers (e.g., REST endpoints for client-server comms).        |
| `components/`         | Reusable React components and UI building blocks.                         |
| `constants/`          | Constants.                                                                |
| `constants/labels.ts` | All hardcoded strings, labels and configuration values.                   |
| `constants/icons.ts`  | Icon imports and icon component references.                               |
| `context/`            | React createContext, useContext hooks.                                    |
| `hooks/`              | Custom React hooks.                                                       |
| `types/`              | TypeScript type definitions and interfaces.                               |
| `types/shared.ts`     | Shared types/interfaces used across client and server.                    |
| `utils/`              | Utility functions.                                                        |
| `public/`             | Static assets (images, fonts, etc.) served directly by the app.           |
| `README.md`           | Project documentation and guidelines.                                     |

> **Tip:** Keep files and directories focused and organized according to their purpose for maintainability.
